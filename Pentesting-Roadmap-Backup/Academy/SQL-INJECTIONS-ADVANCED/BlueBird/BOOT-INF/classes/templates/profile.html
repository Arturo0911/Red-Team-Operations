<!doctype html>
<html lang="en" data-bs-theme="dark" xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${user.getName() + ' (@' + user.getUsername() + ') / BlueBird'}"/>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/c23805b465.js" crossorigin="anonymous"></script>
  <link th:href="@{/css/styles.css}" rel="stylesheet"/>
<!--  <link href="../static/css/styles.css" rel="stylesheet"/>-->
</head>
<body>
<div class="container">
  <div class="row">
    <div class="col-2">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="/"><i class="fa-solid fa-crow"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/"><i class="fa-solid fa-house"></i> Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa-solid fa-hashtag"></i> Explore</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa-regular fa-bell"></i> Notifications</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa-regular fa-envelope"></i> Messages</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa-regular fa-bookmark"></i> Bookmarks</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa-regular fa-file-lines"></i> Lists</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="${'/profile/' + userDetails.getId()}"><i class="fa-regular fa-user"></i> Profile</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="fa-solid fa-ellipsis"></i> More</a>
        </li>
        <li class="nav-item">
          <button type="button" class="btn btn-primary">Tweet</button>
        </li>
        <li class="nav-item mt-5">
          <div class="row">
            <div class="col-9">
              <a th:href="${'/profile/' + userDetails.getId()}" id="profileLink">
                <span style="color: white; font-weight: bold" th:text="${userDetails.getName()}"/>
                <br>
                <span style="color:#888" th:text="${'@' + userDetails.getUsername()}"/>
              </a>
            </div>
            <div class="col-3">
              <a id="logoutBtn" href="/logout"><i class="fa-solid fa-right-from-bracket"></i></a>
            </div>
          </div>
        </li>
      </ul>
    </div>
    <div class="col-7">
      <div class="row mb-3 mt-3">
        <div class="col-9">
          <h5 style="font-weight:bold;margin-bottom:0" th:text="${user.getName()}"/>
          <span class="handle" th:text="${'@' + user.getUsername()}"/> <span style="color:white" th:text="${user.getDescription()}"/>
        </div>
        <div class="col-3" style="text-align:right">
          <a th:if="${userDetails.getId() == user.getId()}" href="/profile/edit" class="btn btn-outline-light mt-1" style="border-radius: 9999px">Edit Profile</a>
        </div>
      </div>

      <th:block th:each="post: ${posts}">
        <div class="text-justify float-left post">
          <a style="text-decoration:none" th:href="${'/profile/' + post.get('author_id')}"><h6 th:text="${post.get('name')}" class="name"/><span class="handle" th:text="${'@'+post.get('username')}"/></a>
          <span>Â·</span>
          <span th:text="${post.get('posted_at_nice')}"/>
          <br>
          <p th:text="${post.get('text')}"/>
        </div>
      </th:block>
    </div>
    <div class="col-3">
      <form method="GET" action="/" class="mt-2">
        <div class="input-group">
          <span class="input-group-text"><i class="fa-solid fa-magnifying-glass"></i></span>
          <div class="form-floating">
            <input type="text" class="form-control" id="qFloating" name="q" placeholder="">
            <label for="qFloating">Search BlueBird</label>
          </div>
        </div>
      </form>
      <form method="GET" action="/find-user" class="mt-2">
        <div class="input-group">
          <span class="input-group-text"><i class="fa-solid fa-magnifying-glass"></i></span>
          <div class="form-floating">
            <input type="text" class="form-control" id="usernameFloating" name="u" placeholder="">
            <label for="usernameFloating">Find User (by username)</label>
          </div>
        </div>
      </form>
      <ul class="list-group mt-3">
        <li class="list-group-item"><b style="font-size: 20px">Trends for You</b></li>
        <li class="list-group-item">Cross-Site Scripting</li>
        <li class="list-group-item">SQL Injection</li>
        <li class="list-group-item">Server-Side Template Injection</li>
        <li class="list-group-item">Insecure Deserialization</li>
        <li class="list-group-item">Insecure Direct Object References</li>
        <li class="list-group-item">Broken Authentication and Session Management</li>
        <li class="list-group-item">HTTP Request Smuggling</li>
        <li class="list-group-item">Server-Side Request Forgery</li>
      </ul>
      <p class="mt-3" id="footer">
        <a href="#">Terms of Service</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Cookie Policy</a>
        <a href="#">Accessibility</a>
        <a href="/server-info">Server Info</a>
        <a href="#">More</a>
        <br>
        <a href="https://williammoody.com" style="color:#888;">Made with &lt;3 by bmdyy</a>
      </p>
    </div>
  </div>
</div>
</body>
</html>