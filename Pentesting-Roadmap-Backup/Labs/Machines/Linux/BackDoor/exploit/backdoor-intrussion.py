#!/usr/bin/python3

from pprint import pprint
import requests
import sys


def run_request(url):

    xml_data = """<methodCall>
        <methodName>system.listMethods</methodName>
        <params></params>
        </methodCall>"""
    ress = requests.post(url=url, data=xml_data, headers={"Content-Type":"application/xml"})
    pprint(ress.text)



if __name__ == "__main__":

    try:
        # main_url = sys.argv[1]
        run_request(url="http://backdoor.htb/xmlrpc.php")

    except Exception as e:
        print(str(e))
        exit(1)

    except KeyboardInterrupt:
        exit(0)
