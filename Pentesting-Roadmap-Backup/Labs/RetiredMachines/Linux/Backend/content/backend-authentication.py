#!/usr/bin/python3


import requests
from pwn import *
from pprint import pprint


MAIN_URL = "http://10.10.11.161/"

# Credentials
USER = "honeylove"
EMAIL = "honeylove@honey.htb"
PASSWORD = "password123"



def backend_signup():

    sess = requests.session()

    ress = sess.post(url=MAIN_URL+"api/v1/user/signup", json={
        "user":USER, 
        "email":EMAIL, 
        "password":PASSWORD}
    )
    
    log.progress(str(ress.status_code))
    pprint(ress.json())



def authentication():

    sess = requests.session()

    log_ress = sess.post(url=MAIN_URL+"api/v1/user/login", data={"username":EMAIL,"password":PASSWORD})
    
    print(log_ress.status_code)
    print(log_ress.json())
    
if __name__ == "__main__":
    backend_signup()
    authentication()

