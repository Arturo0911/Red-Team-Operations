#!/usr/bin/python3


from flask import Flask, request


app = Flask(__name__)


@app.route("/", methods=["GET", "POST"])
def hackthur():

    if request.method == "POST":
        data = request.data.decode("utf-8")
        print(f"received data {data}")
        # return "Data received", 200
        response = app.response_class("")
        response.headers["Access-Control-Allow-Origin"] = "*"
        response.headers["Access-Control-Allow-Methods"] = "POST, OPTIONS"
        response.headers["Access-Control-Allow-Headers"] = "Content-Type"
        return response
    elif request.method == "GET":
        print(f"received {data} GET")
        return "GET", 200
    else:
        return "Listtening for POST request", 200




if __name__ == "__main__":
	app.run("0.0.0.0", port=8000)
